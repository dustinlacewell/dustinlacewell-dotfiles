<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Convert special characters to HTML entities</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.htmlspecialchars-decode.html">htmlspecialchars_decode</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.implode.html">implode</a></div>
 <div class="up"><a href="ref.strings.html">String Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.htmlspecialchars" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">htmlspecialchars</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">htmlspecialchars</span> &mdash; <span class="dc-title">Convert special characters to HTML entities</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.htmlspecialchars-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><b>htmlspecialchars</b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$string</tt></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$flags</tt><span class="initializer"> = ENT_COMPAT</span></span>
   [, <span class="methodparam"><span class="type">string</span> <tt class="parameter">$charset</tt></span>
   [, <span class="methodparam"><span class="type">bool</span> <tt class="parameter">$double_encode</tt><span class="initializer"> = true</span></span>
  ]]] )</div>

  <p class="para rdfs-comment">
   Certain characters have special significance in HTML, and should
   be represented by HTML entities if they are to preserve their
   meanings. This function returns a string with some of these
   conversions made; the translations made are those most
   useful for everyday web programming. If you require all HTML
   character entities to be translated, use
   <span class="function"><a href="function.htmlentities.html" class="function">htmlentities()</a></span> instead.
  </p>
  <p class="simpara">
   This function is useful in preventing user-supplied text from
   containing HTML markup, such as in a message board or guest book
   application.
  </p>
  <p class="para">
   The translations performed are:
   <ul class="itemizedlist">
    <li class="listitem">
     <span class="simpara">
      &#039;&amp;&#039; (ampersand) becomes &#039;&amp;amp;&#039;
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      &#039;&quot;&#039; (double quote) becomes &#039;&amp;quot;&#039; when <b><tt>ENT_NOQUOTES</tt></b>
      is not set.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      &quot;&#039;&quot; (single quote) becomes &#039;&amp;#039;&#039; only when
      <b><tt>ENT_QUOTES</tt></b> is set.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      &#039;&lt;&#039; (less than) becomes &#039;&amp;lt;&#039;
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      &#039;&gt;&#039; (greater than) becomes &#039;&amp;gt;&#039;
     </span>
    </li>
   </ul>
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.htmlspecialchars-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">string</tt></i></span>
     <dd>

      <p class="para">
       The <span class="type"><a href="language.types.string.html" class="type string">string</a></span> being converted.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">flags</tt></i></span>
     <dd>

      <p class="para">
       The optional second argument, <i><tt class="parameter">flags</tt></i>, tells
       the function what to do with single and double quote characters and with
       invalid multi-byte sequences.
       The default mode, <b><tt>ENT_COMPAT</tt></b>, is the backwards compatible mode
       which only translates the double-quote character and leaves the
       single-quote untranslated.  If <b><tt>ENT_QUOTES</tt></b> is set, both single and
       double quotes are translated and if <b><tt>ENT_NOQUOTES</tt></b> is set neither
       single nor double quotes are translated.
       In addition, since 5.3.0, these constants can be combined with
       <b><tt>ENT_IGNORE</tt></b>. In that case, strings that contain invalid code unit
       sequences have those invalid sequences discarded instead of having the function
       return an empty string. Avoid using it, as it may have introduce vulnerabilities. 
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">charset</tt></i></span>
     <dd>

      <p class="para">
       Defines character set used in conversion.
       The default character set is ISO-8859-1.
      </p>
      <p class="para">
       For the purposes of this function, the charsets
       <i>ISO-8859-1</i>, <i>ISO-8859-15</i>,
       <i>UTF-8</i>, <i>cp866</i>,
       <i>cp1251</i>, <i>cp1252</i>, and
       <i>KOI8-R</i> are effectively equivalent, provided the
       <i><tt class="parameter">string</tt></i> itself is valid for the character set, as
       the characters affected by <span class="function"><b>htmlspecialchars()</b></span> occupy
       the same positions in all of these charsets.
      </p>
      

<p class="para">
 Following character sets are supported in PHP 4.3.0 and later.
 <table class="doctable table">
  <caption><b>Supported charsets</b></caption>
  
   <thead valign="middle">
    <tr valign="middle">
     <th>Charset</th>
     <th>Aliases</th>
     <th>Description</th>
    </tr>

   </thead>

   <tbody valign="middle" class="tbody">
    <tr valign="middle">
     <td align="left">ISO-8859-1</td>
     <td align="left">ISO8859-1</td>
     <td align="left">
      Western European, Latin-1
     </td>
    </tr>

    <tr valign="middle">
     <td align="left">ISO-8859-15</td>
     <td align="left">ISO8859-15</td>
     <td align="left">
      Western European, Latin-9. Adds the Euro sign, French and Finnish
      letters missing in Latin-1(ISO-8859-1).
     </td>
    </tr>

    <tr valign="middle">
     <td align="left">UTF-8</td>
     <td class="empty">&nbsp;</td>
     <td align="left">
      ASCII compatible multi-byte 8-bit Unicode.
     </td>
    </tr>

    <tr valign="middle">
     <td align="left">cp866</td>
     <td align="left">ibm866, 866</td>
     <td align="left">
      DOS-specific Cyrillic charset.
      This charset is supported in 4.3.2.
     </td>
    </tr>

    <tr valign="middle">
     <td align="left">cp1251</td>
     <td align="left">Windows-1251, win-1251, 1251</td>
     <td align="left">
      Windows-specific Cyrillic charset.
      This charset is supported in 4.3.2.
     </td>
    </tr>

    <tr valign="middle">
     <td align="left">cp1252</td>
     <td align="left">Windows-1252, 1252</td>
     <td align="left">
      Windows specific charset for Western European.
     </td>
    </tr>

    <tr valign="middle">
     <td align="left">KOI8-R</td>
     <td align="left">koi8-ru, koi8r</td>
     <td align="left">
      Russian. This charset is supported in 4.3.2.
     </td>
    </tr>

    <tr valign="middle">
     <td align="left">BIG5</td>
     <td align="left">950</td>
     <td align="left">
      Traditional Chinese, mainly used in Taiwan.
     </td>
    </tr>

    <tr valign="middle">
     <td align="left">GB2312</td>
     <td align="left">936</td>
     <td align="left">
      Simplified Chinese, national standard character set.
     </td>
    </tr>

    <tr valign="middle">
     <td align="left">BIG5-HKSCS</td>
     <td class="empty">&nbsp;</td>
     <td align="left">
      Big5 with Hong Kong extensions, Traditional Chinese.
     </td>
    </tr>

    <tr valign="middle">
     <td align="left">Shift_JIS</td>
     <td align="left">SJIS, 932</td>
     <td align="left">
      Japanese
     </td>
    </tr>

    <tr valign="middle">
     <td align="left">EUC-JP</td>
     <td align="left">EUCJP</td>
     <td align="left">
      Japanese
     </td>
    </tr>

   </tbody>
  
 </table>

 <blockquote class="note"><p><b class="note">Note</b>: 
  <span class="simpara">
   Any other character sets are not recognized and ISO-8859-1 will be used
   instead.
  </span>
 </p></blockquote>
</p>


     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">double_encode</tt></i></span>
     <dd>

      <p class="para">
       When <i><tt class="parameter">double_encode</tt></i> is turned off PHP will not
       encode existing html entities, the default is to convert everything.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.htmlspecialchars-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   The converted <span class="type"><a href="language.types.string.html" class="type string">string</a></span>.
  </p>
  <p class="para">
   If the input <i><tt class="parameter">string</tt></i> contains an invalid code unit
   sequence within the given <i><tt class="parameter">charset</tt></i> and the
   <b><tt>ENT_IGNORE</tt></b> flag is not set, then
   <span class="function"><b>htmlspecialchars()</b></span> will return an empty string.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.htmlspecialchars-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">5.2.3</td>
       <td align="left">
        The <i><tt class="parameter">double_encode</tt></i> parameter was added.
       </td>
      </tr>

      <tr valign="middle">
       <td align="left">4.1.0</td>
       <td align="left">
        The <i><tt class="parameter">charset</tt></i> parameter was added.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.htmlspecialchars-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4084">
    <p><b>Example #1 <span class="function"><b>htmlspecialchars()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$new&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(</span><span style="color: #DD0000">"&lt;a&nbsp;href='test'&gt;Test&lt;/a&gt;"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">ENT_QUOTES</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$new</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;&amp;lt;a&nbsp;href=&amp;#039;test&amp;#039;&amp;gt;Test&amp;lt;/a&amp;gt;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.htmlspecialchars-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    Note that this function does not translate anything beyond what
    is listed above. For full entity translation, see
    <span class="function"><a href="function.htmlentities.html" class="function">htmlentities()</a></span>.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.htmlspecialchars-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.get-html-translation-table.html" class="function" rel="rdfs-seeAlso">get_html_translation_table()</a> - Returns the translation table used by htmlspecialchars and htmlentities</span></li>
    <li class="member"><span class="function"><a href="function.htmlspecialchars-decode.html" class="function" rel="rdfs-seeAlso">htmlspecialchars_decode()</a> - Convert special HTML entities back to characters</span></li>
    <li class="member"><span class="function"><a href="function.strip-tags.html" class="function" rel="rdfs-seeAlso">strip_tags()</a> - Strip HTML and PHP tags from a string</span></li>
    <li class="member"><span class="function"><a href="function.htmlentities.html" class="function" rel="rdfs-seeAlso">htmlentities()</a> - Convert all applicable characters to HTML entities</span></li>
    <li class="member"><span class="function"><a href="function.nl2br.html" class="function" rel="rdfs-seeAlso">nl2br()</a> - Inserts HTML line breaks before all newlines in a string</span></li>
   </ul>
  </p>
 </div>


</div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.htmlspecialchars-decode.html">htmlspecialchars_decode</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.implode.html">implode</a></div>
 <div class="up"><a href="ref.strings.html">String Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
