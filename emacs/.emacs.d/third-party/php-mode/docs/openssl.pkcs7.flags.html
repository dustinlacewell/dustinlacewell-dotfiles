<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>PKCS7 Flags/Constants</title>

 </head>
 <body><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="openssl.key-types.html">Key types</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="openssl.signature-algos.html">Signature Algorithms</a></div>
 <div class="up"><a href="openssl.constants.html">Predefined Constants</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="openssl.pkcs7.flags" class="section">
   <h2 class="title"><acronym>PKCS7</acronym> Flags/Constants</h2>
   <p class="para">
    The S/MIME functions make use of flags which are specified using a
    bitfield which can include one or more of the following values:
    <table class="doctable table">
     <caption><b><acronym>PKCS7</acronym> CONSTANTS</b></caption>
      
       <thead valign="middle">
        <tr valign="middle">
         <th>Constant</th>
         <th>Description</th>
        </tr>

       </thead>

       <tbody valign="middle" class="tbody">
        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_TEXT</tt></b></td>
         <td align="left">Adds text/plain content type headers to encrypted/signed
         message. If decrypting or verifying, it strips those headers from
         the output - if the decrypted or verified message is not of MIME type
         text/plain then an error will occur.</td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_BINARY</tt></b></td>
         <td align="left">Normally the input message is converted to &quot;canonical&quot; format
         which is effectively using <i>CR</i> and <i>LF</i>
          as end of line: as required by the S/MIME specification.  When this
          option is present, no translation occurs. This is useful when
          handling binary data which may not be in MIME format.</td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_NOINTERN</tt></b></td>
         <td align="left">When verifying a message, certificates (if
           any) included in the message are normally searched for the
           signing certificate. With this option only the
           certificates specified in the <i><tt class="parameter">extracerts</tt></i>
           parameter of <span class="function"><a href="function.openssl-pkcs7-verify.html" class="function">openssl_pkcs7_verify()</a></span> are
           used.  The supplied certificates can still be used as
           untrusted CAs however.
         </td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_NOVERIFY</tt></b></td>
         <td align="left">Do not verify the signers certificate of a signed
         message.</td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_NOCHAIN</tt></b></td>
         <td align="left">Do not chain verification of signers certificates: that is
         don&#039;t use the certificates in the signed message as untrusted CAs.
         </td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_NOCERTS</tt></b></td>
         <td align="left">When signing a message the signer&#039;s certificate is normally
         included - with this option it is excluded.  This will reduce the
         size of the signed message but the verifier must have a copy of the
         signers certificate available locally (passed using the
         <i><tt class="parameter">extracerts</tt></i> to
         <span class="function"><a href="function.openssl-pkcs7-verify.html" class="function">openssl_pkcs7_verify()</a></span> for example).
         </td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_NOATTR</tt></b></td>
         <td align="left">Normally when a message is signed, a set of attributes are
         included which include the signing time and the supported symmetric
         algorithms.  With this option they are not included.
         </td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_DETACHED</tt></b></td>
         <td align="left">When signing a message, use cleartext signing with the MIME
         type <i>&quot;multipart/signed&quot;</i>. This is the default
         if you do not specify any <i><tt class="parameter">flags</tt></i> to
         <span class="function"><a href="function.openssl-pkcs7-sign.html" class="function">openssl_pkcs7_sign()</a></span>.
         If you turn this option off, the message will be signed using
         opaque signing, which is more resistant to translation by mail relays
         but cannot be read by mail agents that do not support S/MIME.</td>
        </tr>

        <tr valign="middle">
         <td align="left"><b><tt>PKCS7_NOSIGS</tt></b></td>
         <td align="left">Don&#039;t try and verify the signatures on a message</td>
        </tr>

       </tbody>
      
     </table>

   </p>
   <blockquote class="note"><p><b class="note">Note</b>: 
     <p class="para">These constants were added in 4.0.6.</p>
   </p></blockquote>
  </div><hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="openssl.key-types.html">Key types</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="openssl.signature-algos.html">Signature Algorithms</a></div>
 <div class="up"><a href="openssl.constants.html">Predefined Constants</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
